window.addEventListener("load",(()=>{const e=document.getElementById("search-mask"),t=document.querySelector("#algolia-search .search-dialog"),i=()=>{anzhiyu.animateIn(e,"to_show 0.5s"),t.style.display="block",setTimeout((()=>{document.querySelector("#algolia-search .ais-SearchBox-input").focus()}),100),document.addEventListener("keydown",(function e(t){"Escape"===t.code&&(a(),document.removeEventListener("keydown",e))})),n(),window.addEventListener("resize",n)};anzhiyu_keyboard&&window.addEventListener("keydown",(function(e){if(83==e.keyCode&&e.shiftKey){if(console.info(selectTextNow),selectTextNow){i();const e=document.querySelector("#algolia-search-input > div > form > input");e.value=selectTextNow,e.dispatchEvent(new Event("input")),setTimeout((()=>{document.querySelector("#algolia-search-input > div > form > button.ais-SearchBox-submit").click()}),64)}else i();return!1}}));const a=()=>{anzhiyu.animateOut(t,"search_close .5s"),anzhiyu.animateOut(e,"to_hide 0.5s"),window.removeEventListener("resize",n)},n=()=>{window.innerWidth<768&&t.style.setProperty("--search-height",window.innerHeight+"px")},s=()=>{anzhiyu.addEventListenerPjax(document.querySelector("#search-button > .search"),"click",i)},o=GLOBAL_CONFIG.algolia;if(!(o.appId&&o.apiKey&&o.indexName))return console.error("Algolia setting is invalid!");const l=instantsearch({indexName:o.indexName,searchClient:algoliasearch(o.appId,o.apiKey),searchFunction(e){if(e.state.query){let t='<i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i>';document.getElementById("algolia-hits").innerHTML=t,e.search()}}}),r=instantsearch.widgets.configure({hitsPerPage:o.hits.per_page??5}),c=instantsearch.widgets.searchBox({container:"#algolia-search-input",showReset:!1,showSubmit:!1,placeholder:o.languages.input_placeholder,showLoadingIndicator:!0,searchOnEnterKeyPressOnly:!0,searchAsYouType:!1}),u=instantsearch.widgets.hits({container:"#algolia-hits",templates:{item(e){const t=e.permalink?e.permalink:GLOBAL_CONFIG.root+e.path,i=e._highlightResult,a=document.querySelector("#algolia-hits .anzhiyu-spin");return a&&(a.style.display="none"),setTimeout((()=>{document.querySelector("#algolia-search .ais-SearchBox-input").focus()}),200),`\n          <a href="${t}" class="algolia-hit-item-link">\n          <span class="algolia-hits-item-title">${i.title.value||"no-title"}</span>\n          </a>`},empty:function(e){const t=document.querySelector("#algolia-hits .anzhiyu-spin");return console.info(t),t&&(t.style.display="none"),setTimeout((()=>{document.querySelector("#algolia-search .ais-SearchBox-input").focus()}),200),'<div id="algolia-hits-empty">'+GLOBAL_CONFIG.algolia.languages.hits_empty.replace(/\$\{query}/,e.query)+"</div>"}},cssClasses:{item:"algolia-hit-item"}}),d=instantsearch.widgets.stats({container:"#algolia-info > .algolia-stats",templates:{text:function(e){return`<hr>${GLOBAL_CONFIG.algolia.languages.hits_stats.replace(/\$\{hits}/,e.nbHits).replace(/\$\{time}/,e.processingTimeMS)}`}}}),h=instantsearch.widgets.poweredBy({container:"#algolia-info > .algolia-poweredBy"}),g=instantsearch.widgets.pagination({container:"#algolia-pagination",totalPages:o.hits.per_page??5,templates:{first:'<i class="anzhiyufont anzhiyu-icon-angle-double-left"></i>',last:'<i class="anzhiyufont anzhiyu-icon-angle-double-right"></i>',previous:'<i class="anzhiyufont anzhiyu-icon-angle-left"></i>',next:'<i class="anzhiyufont anzhiyu-icon-angle-right"></i>'},scrollTo:!1,showFirstLast:!1,cssClasses:{root:"pagination",item:"pagination-item",link:"page-number",active:"current",disabled:"disabled-item"}});l.addWidgets([r,c,u,d,h,g]),l.start(),s(),e.addEventListener("click",a),document.querySelector("#algolia-search .search-close-button").addEventListener("click",a),window.addEventListener("pjax:complete",(()=>{!anzhiyu.isHidden(e)&&a(),s()})),window.pjax&&l.on("render",(()=>{window.pjax.refresh(document.getElementById("algolia-hits"))}))}));t'](_0x50fac9,_0x35707e(0x180)),anzhiyu[_0x35707e(0x197)](_0xc06e56,_0x35707e(0x19e)),window[_0x35707e(0x1aa)](_0x35707e(0x199),_0xdddb09);},_0xdddb09=()=>{const _0x45d772=_0x11d65c;window[_0x45d772(0x1ad)]<0x300&&_0x50fac9[_0x45d772(0x1ac)][_0x45d772(0x1cf)]('--search-height',window['innerHeight']+'px');},_0x95b8b5=()=>{const _0x5b0529=_0x11d65c;anzhiyu[_0x5b0529(0x1b9)](document[_0x5b0529(0x1c9)](_0x5b0529(0x1d1)),_0x5b0529(0x1ce),_0x356cae);},_0x531024=()=>{const _0x460041=_0x11d65c;_0xc06e56['addEventListener'](_0x460041(0x1ce),_0x24b771),document[_0x460041(0x1c9)](_0x460041(0x1be))['addEventListener'](_0x460041(0x1ce),_0x24b771);},_0x2e8a58=GLOBAL_CONFIG['algolia'],_0x12aa8f=_0x2e8a58[_0x11d65c(0x198)]&&_0x2e8a58[_0x11d65c(0x1a5)]&&_0x2e8a58['indexName'];if(!_0x12aa8f)return console[_0x11d65c(0x17a)]('Algolia\x20setting\x20is\x20invalid!');const _0x33ba98=instantsearch({'indexName':_0x2e8a58[_0x11d65c(0x1d4)],'searchClient':algoliasearch(_0x2e8a58['appId'],_0x2e8a58[_0x11d65c(0x1a5)]),'searchFunction'(_0x479565){const _0x28a748=_0x11d65c;if(_0x479565[_0x28a748(0x1c7)][_0x28a748(0x17c)]){let _0x40b024=_0x28a748(0x18c);document[_0x28a748(0x196)](_0x28a748(0x1c2))[_0x28a748(0x18a)]=_0x40b024,_0x479565[_0x28a748(0x187)]();}}}),_0x5765f9=instantsearch['widgets']['configure']({'hitsPerPage':_0x2e8a58[_0x11d65c(0x185)][_0x11d65c(0x193)]??0x5}),_0x55aa34=instantsearch[_0x11d65c(0x181)][_0x11d65c(0x1ca)]({'container':_0x11d65c(0x19a),'showReset':![],'showSubmit':![],'placeholder':_0x2e8a58['languages'][_0x11d65c(0x1d2)],'showLoadingIndicator':!![],'searchOnEnterKeyPressOnly':!![],'searchAsYouType':![]}),_0x4337c4=instantsearch['widgets'][_0x11d65c(0x185)]({'container':_0x11d65c(0x1b8),'templates':{'item'(_0x254460){const _0x1b7df2=_0x11d65c,_0x543c65=_0x254460['permalink']?_0x254460[_0x1b7df2(0x1cd)]:GLOBAL_CONFIG['root']+_0x254460['path'],_0x502ab5=_0x254460['_highlightResult'],_0x485106=document[_0x1b7df2(0x1c9)](_0x1b7df2(0x1b1));return _0x485106&&(_0x485106[_0x1b7df2(0x1ac)][_0x1b7df2(0x1b0)]=_0x1b7df2(0x1c0)),setTimeout(()=>{const _0x352b94=_0x1b7df2;document[_0x352b94(0x1c9)](_0x352b94(0x18e))['focus']();},0xc8),_0x1b7df2(0x192)+_0x543c65+'\x22\x20class=\x22algolia-hit-item-link\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22algolia-hits-item-title\x22>'+(_0x502ab5[_0x1b7df2(0x1a0)][_0x1b7df2(0x1d7)]||_0x1b7df2(0x1c1))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>';},'empty':function(_0x392e56){const _0x432198=_0x11d65c,_0x406794=document[_0x432198(0x1c9)](_0x432198(0x1b1));return console[_0x432198(0x1ba)](_0x406794),_0x406794&&(_0x406794[_0x432198(0x1ac)][_0x432198(0x1b0)]=_0x432198(0x1c0)),setTimeout(()=>{const _0x36d703=_0x432198;document[_0x36d703(0x1c9)](_0x36d703(0x18e))[_0x36d703(0x17f)]();},0xc8),_0x432198(0x1c5)+GLOBAL_CONFIG[_0x432198(0x194)][_0x432198(0x1b7)][_0x432198(0x1c4)][_0x432198(0x188)](/\$\{query}/,_0x392e56[_0x432198(0x17c)])+_0x432198(0x19f);}},'cssClasses':{'item':_0x11d65c(0x1b5)}}),_0x2d7228=instantsearch[_0x11d65c(0x181)][_0x11d65c(0x1bb)]({'container':'#algolia-info\x20>\x20.algolia-stats','templates':{'text':function(_0x1b60b1){const _0x36bab4=_0x11d65c,_0x38b249=GLOBAL_CONFIG['algolia']['languages'][_0x36bab4(0x186)][_0x36bab4(0x188)](/\$\{hits}/,_0x1b60b1[_0x36bab4(0x19d)])['replace'](/\$\{time}/,_0x1b60b1[_0x36bab4(0x189)]);return _0x36bab4(0x1a8)+_0x38b249;}}}),_0x4ac5f4=instantsearch['widgets'][_0x11d65c(0x1c6)]({'container':_0x11d65c(0x1a6)}),_0x2330a6=instantsearch[_0x11d65c(0x181)][_0x11d65c(0x191)]({'container':_0x11d65c(0x195),'totalPages':_0x2e8a58[_0x11d65c(0x185)][_0x11d65c(0x193)]??0x5,'templates':{'first':_0x11d65c(0x1d0),'last':'<i\x20class=\x22anzhiyufont\x20anzhiyu-icon-angle-double-right\x22></i>','previous':'<i\x20class=\x22anzhiyufont\x20anzhiyu-icon-angle-left\x22></i>','next':_0x11d65c(0x1bc)},'scrollTo':![],'showFirstLast':![],'cssClasses':{'root':_0x11d65c(0x191),'item':_0x11d65c(0x1ab),'link':_0x11d65c(0x1bf),'active':_0x11d65c(0x1cc),'disabled':_0x11d65c(0x18f)}});_0x33ba98[_0x11d65c(0x1a1)]([_0x5765f9,_0x55aa34,_0x4337c4,_0x2d7228,_0x4ac5f4,_0x2330a6]),_0x33ba98[_0x11d65c(0x183)](),_0x95b8b5(),_0x531024(),window[_0x11d65c(0x18d)](_0x11d65c(0x1a3),()=>{const _0x1123ef=_0x11d65c;!anzhiyu[_0x1123ef(0x1af)](_0xc06e56)&&_0x24b771(),_0x95b8b5();}),window[_0x11d65c(0x17d)]&&_0x33ba98['on'](_0x11d65c(0x1a4),()=>{const _0x197bd2=_0x11d65c;window[_0x197bd2(0x17d)][_0x197bd2(0x1d5)](document[_0x197bd2(0x196)](_0x197bd2(0x1c2)));});}));