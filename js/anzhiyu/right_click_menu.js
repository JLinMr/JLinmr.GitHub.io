rm={};let aElements=document.getElementsByTagName("a");for(let e=0;e<aElements.length;e++){aElements[e].setAttribute("draggable","false");let t=aElements[e].getElementsByTagName("img");for(let e=0;e<t.length;e++)t[e].setAttribute("draggable","false")}rm.showRightMenu=function(e,t=0,n=0){console.info(t,n);let o=document.getElementById("rightMenu");o.style.top=t+"px",o.style.left=n+"px",e?(o.style.display="block",stopMaskScroll()):o.style.display="none"},rm.hideRightMenu=function(){rm.showRightMenu(!1),document.querySelector("#rightmenu-mask").style.display="none"};let rmWidth=document.getElementById("rightMenu").offsetWidth,rmHeight=document.getElementById("rightMenu").offsetHeight;rm.reloadrmSize=function(){rightMenu.style.visibility="hidden",rightMenu.style.display="block",rmWidth=document.getElementById("rightMenu").offsetWidth,rmHeight=document.getElementById("rightMenu").offsetHeight,rightMenu.style.visibility="visible"};let domhref="",domImgSrc="",globalEvent=null;var oncontextmenuFunction=function(e){if(document.body.clientWidth>768){let t=e.clientX+10,n=e.clientY;const o=document.querySelector(".rightMenuOther"),i=document.querySelector(".rightMenuPlugin"),c=document.querySelector("#menu-copytext"),l=document.querySelector("#menu-pastetext"),m=document.querySelector("#menu-commenttext"),d=document.querySelector("#menu-newwindow"),u=document.querySelector("#menu-newwindowimg"),r=document.querySelector("#menu-copylink"),a=document.querySelector("#menu-copyimg"),s=document.querySelector("#menu-downloadimg"),y=document.querySelector("#menu-search"),g=document.querySelector("#menu-searchBaidu"),h=document.querySelector("#menu-music-toggle"),p=document.querySelector("#menu-music-back"),w=document.querySelector("#menu-music-forward"),E=document.querySelector("#menu-music-playlist"),f=document.querySelector("#menu-music-copyMusicName");let k=e.target.href,v=e.target.currentSrc,b=!1;o.style.display="block",globalEvent=e,selectTextNow&&window.getSelection()?(b=!0,c.style.display="block",m.style.display="block",y.style.display="block",g.style.display="block"):(c.style.display="none",m.style.display="none",g.style.display="none",y.style.display="none"),k?(b=!0,d.style.display="block",r.style.display="block",domhref=k):(d.style.display="none",r.style.display="none"),v?(b=!0,a.style.display="block",s.style.display="block",u.style.display="block",document.getElementById("rightMenu").style.width="12rem",domImgSrc=v):(a.style.display="none",s.style.display="none",u.style.display="none"),"input"===e.target.tagName.toLowerCase()||"textarea"===e.target.tagName.toLowerCase()?(b=!0,l.style.display="block"):l.style.display="none";const B=document.querySelector("#nav-music");return B&&B.contains(e.target)?(b=!0,h.style.display="block",p.style.display="block",w.style.display="block",E.style.display="block",f.style.display="block"):(h.style.display="none",p.style.display="none",w.style.display="none",E.style.display="none",f.style.display="none"),b?(o.style.display="none",i.style.display="block"):i.style.display="none",rm.reloadrmSize(),t+rmWidth>window.innerWidth&&(t-=rmWidth+10),n+rmHeight>window.innerHeight&&(n-=n+rmHeight-window.innerHeight),rm.showRightMenu(!0,n,t),document.getElementById("rightmenu-mask").style.display="flex",!1}};function imageToBlob(e){const t=new Image,n=document.createElement("canvas"),o=n.getContext("2d");return t.crossOrigin="",t.src=e,new Promise((e=>{t.onload=function(){n.width=this.naturalWidth,n.height=this.naturalHeight,o.drawImage(this,0,0),n.toBlob((t=>{e(t)}),"image/png",.75)}}))}async function copyImage(e){const t=await imageToBlob(e),n=new ClipboardItem({"image/png":t});navigator.clipboard.write([n])}function stopMaskScroll(){if(document.getElementById("rightmenu-mask")){document.getElementById("rightmenu-mask").addEventListener("mousewheel",(function(e){rm.hideRightMenu()}),{passive:!0})}if(document.getElementById("rightMenu")){document.getElementById("rightMenu").addEventListener("mousewheel",(function(e){rm.hideRightMenu()}),{passive:!0})}}window.oncontextmenu=oncontextmenuFunction,rm.downloadimging=!1,rm.writeClipImg=function(e){console.log("按下复制"),rm.hideRightMenu(),anzhiyu.snackbarShow("正在下载中，请稍后",!1,1e4),0==rm.downloadimging&&(rm.downloadimging=!0,setTimeout((function(){copyImage(e),anzhiyu.snackbarShow("复制成功！图片已添加盲水印，请遵守版权协议"),rm.downloadimging=!1}),"10000"))},rm.copyUrl=function(e){const t=document.createElement("input");t.id="copyVal",document.body.appendChild(t);const n=e;t.value=n,t.select(),t.setSelectionRange(0,t.value.length),document.execCommand("copy"),t.remove()},rm.rightmenuCopyText=function(e){navigator.clipboard&&navigator.clipboard.writeText(e),rm.hideRightMenu()},rm.copyPageUrl=function(e){e||(e=window.location.href),rm.copyUrl(e),anzhiyu.snackbarShow("复制链接地址成功",!1,2e3),rm.hideRightMenu()};var selectTextNow="";function selceText(){var e;e=document.selection?document.selection.createRange().text:window.getSelection().toString(),selectTextNow=""!==e?e:""}function replaceAll(e,t,n){return e.split(t).join(n)}function addRightMenuClickEvent(){document.getElementById("menu-backward").addEventListener("click",(function(){window.history.back(),rm.hideRightMenu()})),document.getElementById("menu-forward").addEventListener("click",(function(){window.history.forward(),rm.hideRightMenu()})),document.getElementById("menu-refresh").addEventListener("click",(function(){window.location.reload()})),document.getElementById("menu-top").addEventListener("click",(function(){anzhiyu.scrollToDest(0,500),rm.hideRightMenu()})),document.getElementById("menu-translate").addEventListener("click",(function(){window.translateFn.translatePage(),rm.hideRightMenu()}));document.querySelectorAll(".menu-link").forEach((function(e){e.addEventListener("click",rm.hideRightMenu)})),document.getElementById("menu-home")&&document.getElementById("menu-home").addEventListener("click",(function(){window.location.href=window.location.origin})),document.getElementById("menu-randomPost").addEventListener("click",(function(){toRandomPost()})),document.getElementById("menu-commentBarrage").addEventListener("click",anzhiyu.switchCommentBarrage),document.getElementById("rightmenu-mask").addEventListener("click",rm.hideRightMenu),document.getElementById("rightmenu-mask").addEventListener("contextmenu",(function(e){rm.hideRightMenu(),e.preventDefault()})),document.getElementById("menu-copy").addEventListener("click",(()=>{rm.copyPageUrl()})),document.getElementById("menu-pastetext").addEventListener("click",rm.pasteText),document.getElementById("menu-copytext").addEventListener("click",(function(){rm.rightmenuCopyText(selectTextNow);const e=GLOBAL_CONFIG.copyright;e.copy&&anzhiyu.snackbarShow(e.languages.copySuccess)})),document.getElementById("menu-commenttext").addEventListener("click",(function(){rm.rightMenuCommentText(selectTextNow)})),document.getElementById("menu-newwindow").addEventListener("click",(function(){window.open(domhref,"_blank"),rm.hideRightMenu()})),document.getElementById("menu-copylink").addEventListener("click",rm.copyLink),document.getElementById("menu-downloadimg").addEventListener("click",(function(){anzhiyu.downloadImage(domImgSrc,"anzhiyu")})),document.getElementById("menu-newwindowimg").addEventListener("click",(function(){window.open(domImgSrc,"_blank"),rm.hideRightMenu()})),document.getElementById("menu-copyimg").addEventListener("click",(function(){rm.writeClipImg(domImgSrc)})),document.getElementById("menu-searchBaidu").addEventListener("click",rm.searchBaidu),document.getElementById("menu-music-toggle").addEventListener("click",anzhiyu.musicToggle),document.getElementById("menu-music-back").addEventListener("click",anzhiyu.musicSkipBack),document.getElementById("menu-music-forward").addEventListener("click",anzhiyu.musicSkipForward),document.getElementById("menu-music-copyMusicName").addEventListener("click",(function(){rm.rightmenuCopyText(anzhiyu.musicGetName()),anzhiyu.snackbarShow("复制歌曲名称成功",!1,3e3)}))}document.onmouseup=document.ondblclick=selceText,rm.readClipboard=function(){navigator.clipboard&&navigator.clipboard.readText().then((e=>rm.insertAtCaret(globalEvent.target,e)))},rm.insertAtCaret=function(e,t){const n=e.selectionStart,o=e.selectionEnd;if(document.selection)e.focus(),document.selection.createRange().text=t,e.focus();else if(n||"0"==n){var i=e.scrollTop;e.value=e.value.substring(0,n)+t+e.value.substring(o,e.value.length),e.focus(),e.selectionStart=n+t.length,e.selectionEnd=n+t.length,e.scrollTop=i}else e.value+=t,e.focus()},rm.pasteText=function(){rm.readClipboard();rm.hideRightMenu()},rm.rightMenuCommentText=function(e){rm.hideRightMenu();var t=document.getElementById("post-comment").offsetTop;window.scrollTo(0,t-80),"undefined"!=e&&"null"!=e||(e="好棒！"),function t(){setTimeout((()=>{var n=document.getElementsByClassName("el-textarea__inner")[0];n||t();let o=document.createEvent("HTMLEvents");o.initEvent("input",!0,!0);let i=replaceAll(e,"\n","\n> ");n.value="> "+i+"\n\n",n.dispatchEvent(o),n.focus(),n.setSelectionRange(-1,-1),document.getElementById("comment-tips")&&document.getElementById("comment-tips").classList.add("show")}),100)}()},rm.searchBaidu=function(){anzhiyu.snackbarShow("即将跳转到百度搜索",!1,2e3),setTimeout((function(){window.open("https://www.baidu.com/s?wd="+selectTextNow)}),"2000"),rm.hideRightMenu()},rm.copyLink=function(){rm.rightmenuCopyText(domhref),anzhiyu.snackbarShow("已复制链接地址")},addRightMenuClickEvent();JtdrAE','menu-commenttext','createEvent','showRightMenu','getElementById','menu-home','menu-forward','clientX','menu-copytext','hideRightMenu','HTMLEvents','anzhiyu','appendChild','已复制链接地址','好棒！','getSelection','initEvent','innerHeight','createRange','复制成功！图片已添加盲水印，请遵守版权协议','post-comment','musicSkipForward','readText','dispatchEvent','selection','classList','block','hidden','menu-copy','#menu-pastetext','split','menu-music-back','menu-music-toggle','526444AlpgSv','history','add','复制链接地址成功','menu-music-copyMusicName','preventDefault','setSelectionRange','#rightmenu-mask','即将跳转到百度搜索','languages','textarea','open','menu-newwindowimg','#menu-music-back','forward','menu-commentBarrage','toLowerCase','rightmenu-mask','menu-refresh','#nav-music','reloadrmSize','menu-searchBaidu','menu-copyimg','#menu-copylink','querySelectorAll','ondblclick','undefined','writeClipImg'];_0x2e85=function(){return _0x148a2f;};return _0x2e85();}function stopMaskScroll(){const _0x5be5b4=_0x5976c4;if(document[_0x5be5b4(0x12a)]('rightmenu-mask')){let _0x32e31a=document['getElementById'](_0x5be5b4(0xae));_0x32e31a['addEventListener']('mousewheel',function(_0x541655){const _0x3de8ff=_0x5be5b4;rm[_0x3de8ff(0x85)]();},{'passive':!![]});}if(document[_0x5be5b4(0x12a)](_0x5be5b4(0xee))){let _0x5eaef1=document[_0x5be5b4(0x12a)]('rightMenu');_0x5eaef1['addEventListener'](_0x5be5b4(0xc6),function(_0x3af160){const _0x2feae1=_0x5be5b4;rm[_0x2feae1(0x85)]();},{'passive':!![]});}}rm[_0x5976c4(0xe1)]=function(_0x179519){const _0x3b9a9c=_0x5976c4;navigator[_0x3b9a9c(0xec)]&&navigator[_0x3b9a9c(0xec)][_0x3b9a9c(0xc3)](_0x179519),rm['hideRightMenu']();},rm[_0x5976c4(0xc4)]=function(_0x53a272){const _0x2190f2=_0x5976c4;!_0x53a272&&(_0x53a272=window[_0x2190f2(0x11f)][_0x2190f2(0x101)]),rm['copyUrl'](_0x53a272),anzhiyu[_0x2190f2(0x11e)](_0x2190f2(0xa0),![],0x7d0),rm[_0x2190f2(0x85)]();};var selectTextNow='';document[_0x5976c4(0x106)]=document[_0x5976c4(0xb6)]=selceText;function selceText(){const _0x25bbf7=_0x5976c4;var _0x59a39b;document['selection']?_0x59a39b=document['selection'][_0x25bbf7(0x8e)]()[_0x25bbf7(0xf2)]:_0x59a39b=window[_0x25bbf7(0x8b)]()[_0x25bbf7(0xde)](),selectTextNow=_0x59a39b!==''?_0x59a39b:'';}rm[_0x5976c4(0xe2)]=function(){const _0x35db6e=_0x5976c4;navigator[_0x35db6e(0xec)]&&navigator[_0x35db6e(0xec)][_0x35db6e(0x92)]()[_0x35db6e(0xe4)](_0x2ab262=>rm[_0x35db6e(0x105)](globalEvent[_0x35db6e(0x10d)],_0x2ab262));},rm[_0x5976c4(0x105)]=function(_0x18b459,_0x466655){const _0x5a2183=_0x5976c4,_0x3d045b=_0x18b459[_0x5a2183(0xf4)],_0x5ab9db=_0x18b459['selectionEnd'];if(document[_0x5a2183(0x94)]){_0x18b459[_0x5a2183(0xe6)]();var _0x1272e0=document['selection'][_0x5a2183(0x8e)]();_0x1272e0['text']=_0x466655,_0x18b459['focus']();}else{if(_0x3d045b||_0x3d045b=='0'){var _0x17daff=_0x18b459[_0x5a2183(0xd7)];_0x18b459[_0x5a2183(0x10f)]=_0x18b459['value'][_0x5a2183(0xdc)](0x0,_0x3d045b)+_0x466655+_0x18b459[_0x5a2183(0x10f)][_0x5a2183(0xdc)](_0x5ab9db,_0x18b459[_0x5a2183(0x10f)][_0x5a2183(0xfd)]),_0x18b459[_0x5a2183(0xe6)](),_0x18b459[_0x5a2183(0xf4)]=_0x3d045b+_0x466655['length'],_0x18b459[_0x5a2183(0xd5)]=_0x3d045b+_0x466655[_0x5a2183(0xfd)],_0x18b459[_0x5a2183(0xd7)]=_0x17daff;}else _0x18b459[_0x5a2183(0x10f)]+=_0x466655,_0x18b459[_0x5a2183(0xe6)]();}},rm[_0x5976c4(0x109)]=function(){const _0xdcc798=rm['readClipboard']()||'';rm['hideRightMenu']();},rm[_0x5976c4(0xd0)]=function(_0x3e9230){const _0x1972bf=_0x5976c4;rm[_0x1972bf(0x85)]();const _0x3daf4b=document[_0x1972bf(0x12a)](_0x1972bf(0x90));var _0x1b0ebc=_0x3daf4b[_0x1972bf(0xe0)];window['scrollTo'](0x0,_0x1b0ebc-0x50);if(_0x3e9230==_0x1972bf(0xb7)||_0x3e9230==_0x1972bf(0xca))_0x3e9230=_0x1972bf(0x8a);function _0x7f8582(){setTimeout(()=>{const _0x2fe9fd=_0x4d9a;var _0xaf7748=document[_0x2fe9fd(0x102)]('el-textarea__inner')[0x0];if(!_0xaf7748)_0x7f8582();let _0x2be38f=document[_0x2fe9fd(0x128)](_0x2fe9fd(0x86));_0x2be38f[_0x2fe9fd(0x8c)](_0x2fe9fd(0xb9),!![],!![]);let _0x1c38af=replaceAll(_0x3e9230,'\x0a',_0x2fe9fd(0xe7));_0xaf7748[_0x2fe9fd(0x10f)]='>\x20'+_0x1c38af+'\x0a\x0a',_0xaf7748[_0x2fe9fd(0x93)](_0x2be38f),_0xaf7748['focus'](),_0xaf7748[_0x2fe9fd(0xa3)](-0x1,-0x1),document['getElementById'](_0x2fe9fd(0xd8))&&document['getElementById'](_0x2fe9fd(0xd8))[_0x2fe9fd(0x95)][_0x2fe9fd(0x9f)](_0x2fe9fd(0xf3));},0x64);}_0x7f8582();};function replaceAll(_0x446d0b,_0x13a065,_0x5dc468){const _0x5912da=_0x5976c4;return _0x446d0b[_0x5912da(0x9a)](_0x13a065)[_0x5912da(0xd9)](_0x5dc468);}rm[_0x5976c4(0xd1)]=function(){const _0x28ae23=_0x5976c4;anzhiyu[_0x28ae23(0x11e)](_0x28ae23(0xa5),![],0x7d0),setTimeout(function(){window['open']('https://www.baidu.com/s?wd='+selectTextNow);},_0x28ae23(0xcb)),rm['hideRightMenu']();},rm[_0x5976c4(0xdd)]=function(){const _0x241817=_0x5976c4;rm[_0x241817(0xe1)](domhref),anzhiyu[_0x241817(0x11e)](_0x241817(0x89));};function addRightMenuClickEvent(){const _0x459cd3=_0x5976c4;document[_0x459cd3(0x12a)]('menu-backward')['addEventListener'](_0x459cd3(0x103),function(){const _0x3614d3=_0x459cd3;window['history'][_0x3614d3(0xc1)](),rm[_0x3614d3(0x85)]();}),document[_0x459cd3(0x12a)](_0x459cd3(0x82))[_0x459cd3(0x116)]('click',function(){const _0x448c72=_0x459cd3;window[_0x448c72(0x9e)][_0x448c72(0xab)](),rm[_0x448c72(0x85)]();}),document[_0x459cd3(0x12a)](_0x459cd3(0xaf))['addEventListener'](_0x459cd3(0x103),function(){const _0x24eab7=_0x459cd3;window[_0x24eab7(0x11f)][_0x24eab7(0x117)]();}),document[_0x459cd3(0x12a)]('menu-top')[_0x459cd3(0x116)](_0x459cd3(0x103),function(){const _0x408764=_0x459cd3;anzhiyu['scrollToDest'](0x0,0x1f4),rm[_0x408764(0x85)]();}),document[_0x459cd3(0x12a)](_0x459cd3(0x11d))[_0x459cd3(0x116)](_0x459cd3(0x103),function(){const _0x47915d=_0x459cd3;window[_0x47915d(0xbb)][_0x47915d(0xc2)](),rm[_0x47915d(0x85)]();});const _0x134618=document[_0x459cd3(0xb5)](_0x459cd3(0xc0));_0x134618[_0x459cd3(0x110)](function(_0x1c10d2){const _0x5a9270=_0x459cd3;_0x1c10d2[_0x5a9270(0x116)](_0x5a9270(0x103),rm[_0x5a9270(0x85)]);}),document['getElementById']('menu-home')&&document['getElementById'](_0x459cd3(0x81))[_0x459cd3(0x116)](_0x459cd3(0x103),function(){const _0x57176d=_0x459cd3;window['location']['href']=window[_0x57176d(0x11f)][_0x57176d(0xfe)];}),document[_0x459cd3(0x12a)](_0x459cd3(0x115))[_0x459cd3(0x116)](_0x459cd3(0x103),function(){toRandomPost();}),document['getElementById'](_0x459cd3(0xac))[_0x459cd3(0x116)](_0x459cd3(0x103),anzhiyu['switchCommentBarrage']),document['getElementById'](_0x459cd3(0xae))[_0x459cd3(0x116)](_0x459cd3(0x103),rm['hideRightMenu']),document[_0x459cd3(0x12a)](_0x459cd3(0xae))['addEventListener'](_0x459cd3(0x11b),function(_0x1674d3){const _0x2c6d02=_0x459cd3;rm[_0x2c6d02(0x85)](),_0x1674d3[_0x2c6d02(0xa2)]();}),document[_0x459cd3(0x12a)](_0x459cd3(0x98))['addEventListener'](_0x459cd3(0x103),()=>{const _0x49cc1b=_0x459cd3;rm[_0x49cc1b(0xc4)]();}),document[_0x459cd3(0x12a)](_0x459cd3(0xef))[_0x459cd3(0x116)]('click',rm[_0x459cd3(0x109)]),document['getElementById'](_0x459cd3(0x84))[_0x459cd3(0x116)]('click',function(){const _0x2452c7=_0x459cd3;rm[_0x2452c7(0xe1)](selectTextNow);const _0x1dfd81=GLOBAL_CONFIG['copyright'];_0x1dfd81['copy']&&anzhiyu[_0x2452c7(0x11e)](_0x1dfd81[_0x2452c7(0xa6)][_0x2452c7(0x10b)]);}),document['getElementById'](_0x459cd3(0x127))[_0x459cd3(0x116)](_0x459cd3(0x103),function(){const _0x187d14=_0x459cd3;rm[_0x187d14(0xd0)](selectTextNow);}),document[_0x459cd3(0x12a)](_0x459cd3(0xea))[_0x459cd3(0x116)](_0x459cd3(0x103),function(){const _0x11e151=_0x459cd3;window[_0x11e151(0xa8)](domhref,'_blank'),rm[_0x11e151(0x85)]();}),document[_0x459cd3(0x12a)](_0x459cd3(0x107))[_0x459cd3(0x116)](_0x459cd3(0x103),rm[_0x459cd3(0xdd)]),document['getElementById'](_0x459cd3(0xf1))[_0x459cd3(0x116)](_0x459cd3(0x103),function(){const _0x3150f4=_0x459cd3;anzhiyu[_0x3150f4(0xce)](domImgSrc,_0x3150f4(0x87));}),document['getElementById'](_0x459cd3(0xa9))[_0x459cd3(0x116)](_0x459cd3(0x103),function(){const _0x376886=_0x459cd3;window[_0x376886(0xa8)](domImgSrc,_0x376886(0xe5)),rm['hideRightMenu']();}),document[_0x459cd3(0x12a)](_0x459cd3(0xb3))[_0x459cd3(0x116)]('click',function(){const _0x15f6ce=_0x459cd3;rm[_0x15f6ce(0xb8)](domImgSrc);}),document[_0x459cd3(0x12a)](_0x459cd3(0xb2))['addEventListener']('click',rm[_0x459cd3(0xd1)]),document[_0x459cd3(0x12a)](_0x459cd3(0x9c))[_0x459cd3(0x116)](_0x459cd3(0x103),anzhiyu[_0x459cd3(0xfc)]),document[_0x459cd3(0x12a)](_0x459cd3(0x9b))['addEventListener'](_0x459cd3(0x103),anzhiyu[_0x459cd3(0xfa)]),document[_0x459cd3(0x12a)](_0x459cd3(0x120))['addEventListener'](_0x459cd3(0x103),anzhiyu[_0x459cd3(0x91)]),document['getElementById'](_0x459cd3(0xa1))[_0x459cd3(0x116)]('click',function(){const _0x1482b3=_0x459cd3;rm[_0x1482b3(0xe1)](anzhiyu[_0x1482b3(0xd6)]()),anzhiyu[_0x1482b3(0x11e)]('复制歌曲名称成功',![],0xbb8);});}addRightMenuClickEvent();